**Study design:**
We analyzed scRNA-seq from 31 non-diabetics (ControlHPAP), 10 prediabetics with or without dysglycemia classified based on 2 or more autoantibodies (AABHPAP), 9 donors with type 1 diabetes (T1DHPAP), and 17 donors with type 2 diabetes (T2DHPAP) using HPAP annotation of pancreatic β-cells. For each condition, and based on the module score reflecting the expression (Log2FC > 0.1) or not of the “loser genes” DDIT3, Atf3, Ppp1r15a, RICTOR, and Nfe2l2 (Log2FC < or = 0), cells were split into “loser signature”–positive and “loser signature”–negative β-cells for differential expression analysis between the two groups (​Ortiz-Barahona et al, 2010; ​Valvona et al, 2016​). “Loser” genes were adopted from bona fide “loser signatures” established in mouse embryos in the study by ​Lima et al (2021).

**Data processing and clustering with the module score:**
We analyzed the scRNA-seq data in R (v4.3.1) (URL https://www.R-project.org/) using Seurat (v4.3.0.1) (https://www.rdocumentation.org/packages/Seurat/versions/4.3.0.1) (​Hao et al, 2021​), beginning with the PercentageFeatureSet function to identify and filter β-cells based on HPAP annotation. A total of 44,559 β-cells were analyzed after being classified as either “Controls” (27,160 cells), “AAB” (8,523 cells), “T1D” (715 cells), or “T2D” (8,161 cells). The NormalizeData function was then used to perform log normalization of the data subsample. The FindVariableFeatures function was used to calculate gene variances and feature variances of standard and clipped values. A variable called “genes.of.interest/loser signature” was created in the module score, and candidate marker genes that represent key determinants of the “loser” status implicated in the UPR (DDIT3, ATF3, PPP1R15A, RICTOR) and oxidative stress NFE2L2 were then assigned to this variable. The ScaleData function was used to center and scale the data matrix. The AddModuleScore function was used to assign module scores to our subsample of either Control, AAB, T1D, or T2D β-cells based on the candidate genes specified in the “genes.of.interest/loser signature.” Two matrices were then created: one matrix containing 0 and negative module scores, and the other matrix containing positive module scores. The FindMarkers function was used to find DEGs within each disease state subsample by comparing the positive module scores’ matrix with the matrix containing 0 or negative module scores. Post-clustering doublet removal was integral to the HPAP data quality control.
